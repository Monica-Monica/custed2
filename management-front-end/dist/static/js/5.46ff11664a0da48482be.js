webpackJsonp([5],{OHGw:function(e,t,a){var i=a("UnfL");"string"==typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);a("8bSs")("08d46b6f",i,!0)},UnfL:function(e,t,a){(e.exports=a("BkJT")(!1)).push([e.i,"\n.platform-management-container .detail-item-title {\n  font-weight: 600;\n  color: #409EFF;\n}\n.platform-management-container .detail-item {\n  width: 95%;\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-orient: horizontal;\n  -webkit-box-direction: normal;\n      -ms-flex-direction: row;\n          flex-direction: row;\n  -webkit-box-pack: start;\n      -ms-flex-pack: start;\n          justify-content: flex-start;\n  -webkit-box-align: center;\n      -ms-flex-align: center;\n          align-items: center;\n  margin: 5px 0;\n}\n.platform-management-container .detail-item .detail-item-title {\n    width: 30%;\n    font-weight: 600;\n    color: #409EFF;\n}\n.platform-management-container .detail-item .info {\n    -webkit-box-flex: 1;\n        -ms-flex: 1;\n            flex: 1;\n    display: -webkit-box;\n    display: -ms-flexbox;\n    display: flex;\n    -webkit-box-orient: horizontal;\n    -webkit-box-direction: normal;\n        -ms-flex-direction: row;\n            flex-direction: row;\n    -webkit-box-pack: start;\n        -ms-flex-pack: start;\n            justify-content: flex-start;\n    -webkit-box-align: center;\n        -ms-flex-align: center;\n            align-items: center;\n    border: 1px solid #ddd;\n    padding: 2px 10px;\n    border-radius: 5px;\n}\n",""])},wkVR:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=a("3cXf"),l=a.n(i),s=a("aA9S"),n=a.n(s),o=a("P9l9"),r={name:"platform-management",data:function(){return{lists:[],total:0,tableKey:0,listLoading:!1,isShow:{deal:!1,pair:!1,description:!1,updateTime:!1,accessKey:!1,secretKey:!1},listQuery:{page:1,limit:10,title:"",type:void 0,queryType:"",sort:"+id"},dialogType:"",updateDialogVisible:!1,detailDialogVisible:!1,deleteDialogVisible:!1,temp:{},updateTemp:{},updateForm:{name:"",country:"",description:"",rank:0,pair:"",accessKey:"",secretKey:""},deleteTemp:{},dialogTitle:{showUpdate:"修改",createUpdate:"创建"},formLabelWidth:"120px"}},methods:{handleSizeChange:function(e){this.listQuery.limit=e,this.getPlatformList(this.listQuery.page,this.listQuery.limit)},handleCurrentChange:function(e){this.listQuery.page=e,this.getPlatformList(this.listQuery.page,this.listQuery.limit)},showPlatformDetail:function(e){this.dialogType="showDetail",this.getPlatformDetail(e.id)},handleCommit:function(e){"showUpdate"===this.dialogType?this.updatePlatformRequest(e):"createUpdate"===this.dialogType&&this.createPlatformRequest(e)},handleDelete:function(e){this.deleteTemp=e,this.deleteDialogVisible=!0},handleDeleteCommit:function(e){this.deletePlatformRequest(e)},handleUpdatePlatform:function(e){this.dialogType="showUpdate",this.getPlatformDetail(e.id)},handleCreatePlatform:function(){this.updateForm={name:"",country:"",description:"",rank:"",pair:"",accessKey:"",secretKey:""},this.dialogType="createUpdate",this.updateDialogVisible=!0},getPlatformList:function(e,t){var a=this;this.listLoading=!0,Object(o.y)(e,t).then(function(e){console.log(e),0===e.data.code?(a.total=e.data.data.total,a.lists=e.data.data.list):a.$message.error(e.data.msg),a.listLoading=!1}).catch(function(e){console.log(e.response),a.listLoading=!1})},getPlatformDetail:function(e){var t=this;this.listLoading=!0,Object(o.x)(e).then(function(e){console.log(e),0===e.data.code?("showDetail"===t.dialogType?(t.temp=e.data.data,t.detailDialogVisible=!0):"showUpdate"===t.dialogType&&(t.updateTemp=e.data.data,t.updateForm=n()({},t.updateTemp),t.updateDialogVisible=!0),t.listLoading=!1):t.$message.error(e.data.msg)}).catch(function(e){console.log(e.response),t.listLoading=!1})},updatePlatformRequest:function(e){var t=this,a={name:"",country:"",description:"",rank:0,pair:"",accessKey:"",secretKey:""};a.name=e.name,a.country=e.country,a.description=e.description,a.rank=e.rank,a.pair=e.pair,a.deal=e.deal,a.accessKey=e.accessKey,a.secretKey=e.secretKey,Object(o.F)(e.id,l()(a)).then(function(e){console.log(e),0===e.data.code?(t.getPlatformList(1,10),t.$message({message:"修改成功",type:"success"})):t.$message.error(e.data.msg),t.updateDialogVisible=!1}).catch(function(e){console.log(e.response),t.updateDialogVisible=!1})},createPlatformRequest:function(e){var t=this,a={name:"",country:"",description:"",rank:0,pair:"",accessKey:"",secretKey:""};a.name=e.name,a.country=e.country,a.description=e.description,a.rank=e.rank,a.pair=e.pair,a.deal=e.deal,a.accessKey=e.accessKey,a.secretKey=e.secretKey,Object(o.k)(l()(a)).then(function(e){console.log(e),0===e.data.code?(t.getPlatformList(1,10),t.$message({message:"创建成功",type:"success"})):t.$message.error(e.data.msg),t.updateDialogVisible=!1}).catch(function(e){console.log(e.response),t.updateDialogVisible=!1})},deletePlatformRequest:function(e){var t=this;Object(o.p)(e).then(function(e){0===e.data.code?(t.getPlatformList(1,10),t.$message({message:"删除成功",type:"success"})):t.$message.error(e.data.msg),t.deleteDialogVisible=!1}).catch(function(e){console.log(e.response),t.deleteDialogVisible=!1})}},created:function(){this.getPlatformList(1,10)}},c={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container platform-management-container"},[a("div",{staticClass:"filter-container"},[a("el-checkbox",{staticClass:"filter-item",staticStyle:{"margin-left":"15px","margin-bottom":"15px"},on:{change:function(t){e.tableKey=e.tableKey+1}},model:{value:e.isShow.description,callback:function(t){e.$set(e.isShow,"description",t)},expression:"isShow.description"}},[e._v("描述")]),e._v(" "),a("el-checkbox",{staticClass:"filter-item",staticStyle:{"margin-left":"15px","margin-bottom":"15px"},on:{change:function(t){e.tableKey=e.tableKey+1}},model:{value:e.isShow.pair,callback:function(t){e.$set(e.isShow,"pair",t)},expression:"isShow.pair"}},[e._v("交易对")]),e._v(" "),a("el-checkbox",{staticClass:"filter-item",staticStyle:{"margin-left":"15px","margin-bottom":"15px"},on:{change:function(t){e.tableKey=e.tableKey+1}},model:{value:e.isShow.deal,callback:function(t){e.$set(e.isShow,"deal",t)},expression:"isShow.deal"}},[e._v("24小时成交量")]),e._v(" "),a("el-checkbox",{staticClass:"filter-item",staticStyle:{"margin-left":"15px","margin-bottom":"15px"},on:{change:function(t){e.tableKey=e.tableKey+1}},model:{value:e.isShow.accessKey,callback:function(t){e.$set(e.isShow,"accessKey",t)},expression:"isShow.accessKey"}},[e._v("accessKey")]),e._v(" "),a("el-checkbox",{staticClass:"filter-item",staticStyle:{"margin-left":"15px","margin-bottom":"15px"},on:{change:function(t){e.tableKey=e.tableKey+1}},model:{value:e.isShow.secretKey,callback:function(t){e.$set(e.isShow,"secretKey",t)},expression:"isShow.secretKey"}},[e._v("secretKey")]),e._v(" "),a("el-checkbox",{staticClass:"filter-item",staticStyle:{"margin-left":"15px","margin-bottom":"15px"},on:{change:function(t){e.tableKey=e.tableKey+1}},model:{value:e.isShow.updateTime,callback:function(t){e.$set(e.isShow,"updateTime",t)},expression:"isShow.updateTime"}},[e._v("更新时间")]),e._v(" "),a("el-button",{staticClass:"filter-item",staticStyle:{"margin-left":"10px"},attrs:{type:"primary",icon:"el-icon-edit"},on:{click:e.handleCreatePlatform}},[e._v("创建平台")])],1),e._v(" "),a("el-table",{directives:[{name:"loading",rawName:"v-loading.body",value:e.listLoading,expression:"listLoading",modifiers:{body:!0}}],key:e.tableKey,attrs:{data:e.lists,"element-loading-text":"Loading",border:"",fit:"","highlight-current-row":""}},[a("el-table-column",{attrs:{align:"center",label:"排名"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n        "+e._s(t.row.rank)+"\n      ")]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"平台名称",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n        "+e._s(t.row.name)+"\n      ")]}}])}),e._v(" "),a("el-table-column",{attrs:{align:"center",label:"国家"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n        "+e._s(t.row.country)+"\n      ")]}}])}),e._v(" "),e.isShow.description?a("el-table-column",{attrs:{align:"center",label:"描述"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n        "+e._s(t.row.description)+"\n      ")]}}])}):e._e(),e._v(" "),a("el-table-column",{attrs:{align:"center",label:"网站"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("a",{attrs:{href:t.row.page}},[e._v(e._s(t.row.page))])]}}])}),e._v(" "),e.isShow.pair?a("el-table-column",{attrs:{align:"center",label:"交易对"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n        "+e._s(t.row.pair)+"\n      ")]}}])}):e._e(),e._v(" "),e.isShow.deal?a("el-table-column",{attrs:{align:"center",label:"24小时成交量"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n        "+e._s(t.row.deal)+"\n      ")]}}])}):e._e(),e._v(" "),e.isShow.accessKey?a("el-table-column",{attrs:{align:"center",label:"accessKey"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n        "+e._s(t.row.accessKey)+"\n      ")]}}])}):e._e(),e._v(" "),e.isShow.secretKey?a("el-table-column",{attrs:{align:"center",label:"secretKey"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n        "+e._s(t.row.secretKey)+"\n      ")]}}])}):e._e(),e._v(" "),e.isShow.updateTime?a("el-table-column",{attrs:{align:"center",prop:"created_at",label:"更新时间",width:"200"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("i",{staticClass:"el-icon-time"}),e._v(" "),a("span",[e._v(e._s(new Date(1e3*parseInt(t.row.updateTime)).toLocaleString()))])]}}])}):e._e(),e._v(" "),a("el-table-column",{attrs:{align:"center",label:"操作","class-name":"small-padding fixed-width",width:"330"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{type:"primary",size:"mini",plain:""},on:{click:function(a){e.showPlatformDetail(t.row)}}},[e._v("详情")]),e._v(" "),a("el-button",{attrs:{type:"warning",size:"mini",plain:""},on:{click:function(a){e.handleUpdatePlatform(t.row)}}},[e._v("修改")]),e._v(" "),a("el-button",{attrs:{size:"mini",type:"danger",plain:""},on:{click:function(a){e.handleDelete(t.row)}}},[e._v("删除")])]}}])})],1),e._v(" "),a("div",{staticClass:"pagination-container"},[a("el-pagination",{attrs:{background:"","current-page":e.listQuery.page,"page-sizes":[10,20,30,50],"page-size":e.listQuery.limit,layout:"total, sizes, prev, pager, next, jumper",total:e.total},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1),e._v(" "),a("el-dialog",{attrs:{title:"详情",visible:e.detailDialogVisible,width:"50%"},on:{"update:visible":function(t){e.detailDialogVisible=t}}},[a("div",{staticClass:"detail-item"},[a("span",{staticClass:"detail-item-title"},[e._v("排名: ")]),a("span",{staticClass:"info"},[e._v(e._s(e.temp.rank))])]),e._v(" "),a("div",{staticClass:"detail-item"},[a("span",{staticClass:"detail-item-title"},[e._v("平台名称: ")]),a("span",{staticClass:"info"},[e._v(e._s(e.temp.name))])]),e._v(" "),a("div",{staticClass:"detail-item"},[a("span",{staticClass:"detail-item-title"},[e._v("描述: ")]),a("a",{staticClass:"info",attrs:{herf:e.temp.page}},[e._v(e._s(e.temp.description))])]),e._v(" "),a("div",{staticClass:"detail-item"},[a("span",{staticClass:"detail-item-title"},[e._v("国家: ")]),a("span",{staticClass:"info"},[e._v(e._s(e.temp.country))])]),e._v(" "),a("div",{staticClass:"detail-item"},[a("span",{staticClass:"detail-item-title"},[e._v("网站: ")]),a("a",{attrs:{herf:e.temp.page}},[e._v(e._s(e.temp.page))])]),e._v(" "),a("div",{staticClass:"detail-item"},[a("span",{staticClass:"detail-item-title"},[e._v("交易对: ")]),a("span",{staticClass:"info"},[e._v(e._s(e.temp.pair))])]),e._v(" "),a("div",{staticClass:"detail-item"},[a("span",{staticClass:"detail-item-title"},[e._v("24小时交易量: ")]),a("span",{staticClass:"info"},[e._v(e._s(e.temp.deal))])]),e._v(" "),a("div",{staticClass:"detail-item"},[a("span",{staticClass:"detail-item-title"},[e._v("accessKey: ")]),a("span",[e._v(e._s(e.temp.accessKey))])]),e._v(" "),a("div",{staticClass:"detail-item"},[a("span",{staticClass:"detail-item-title"},[e._v("secretKey: ")]),a("span",[e._v(e._s(e.temp.secretKey))])]),e._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:function(t){e.detailDialogVisible=!1}}},[e._v("关闭")])],1)]),e._v(" "),a("el-dialog",{attrs:{title:e.dialogTitle[e.dialogType]+"平台",visible:e.updateDialogVisible},on:{"update:visible":function(t){e.updateDialogVisible=t}}},[a("el-form",{attrs:{model:e.updateForm}},[a("el-form-item",{attrs:{label:"平台名称","label-width":e.formLabelWidth}},[a("el-input",{attrs:{"auto-complete":"on"},model:{value:e.updateForm.name,callback:function(t){e.$set(e.updateForm,"name",t)},expression:"updateForm.name"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"国家","label-width":e.formLabelWidth}},[a("el-input",{attrs:{"auto-complete":"on"},model:{value:e.updateForm.country,callback:function(t){e.$set(e.updateForm,"country",t)},expression:"updateForm.country"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"描述","label-width":e.formLabelWidth}},[a("el-input",{attrs:{"auto-complete":"on"},model:{value:e.updateForm.description,callback:function(t){e.$set(e.updateForm,"description",t)},expression:"updateForm.description"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"排名","label-width":e.formLabelWidth}},[a("el-input",{attrs:{"auto-complete":"on"},model:{value:e.updateForm.rank,callback:function(t){e.$set(e.updateForm,"rank",t)},expression:"updateForm.rank"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"交易对","label-width":e.formLabelWidth}},[a("el-input",{attrs:{"auto-complete":"on"},model:{value:e.updateForm.pair,callback:function(t){e.$set(e.updateForm,"pair",t)},expression:"updateForm.pair"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"24小时交易量","label-width":e.formLabelWidth}},[a("el-input",{attrs:{"auto-complete":"on"},model:{value:e.updateForm.deal,callback:function(t){e.$set(e.updateForm,"deal",t)},expression:"updateForm.deal"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"accessKey","label-width":e.formLabelWidth}},[a("el-input",{attrs:{"auto-complete":"on"},model:{value:e.updateForm.accessKey,callback:function(t){e.$set(e.updateForm,"accessKey",t)},expression:"updateForm.accessKey"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"secretKey","label-width":e.formLabelWidth}},[a("el-input",{attrs:{"auto-complete":"on"},model:{value:e.updateForm.secretKey,callback:function(t){e.$set(e.updateForm,"secretKey",t)},expression:"updateForm.secretKey"}})],1)],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.updateDialogVisible=!1}}},[e._v("取 消")]),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:function(t){e.handleCommit(e.updateForm)}}},[e._v(e._s(e.dialogTitle[e.dialogType]))])],1)],1),e._v(" "),a("el-dialog",{attrs:{title:"提示",visible:e.deleteDialogVisible,width:"30%"},on:{"update:visible":function(t){e.deleteDialogVisible=t}}},[a("span",[e._v("确定删除平台: ")]),a("span",{staticStyle:{color:"#409EFF"}},[e._v(e._s(e.deleteTemp.name))]),a("span",[e._v(" ?")]),e._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.deleteDialogVisible=!1}}},[e._v("取 消")]),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:function(t){e.handleDeleteCommit(e.deleteTemp.id)}}},[e._v("确 定")])],1)])],1)},staticRenderFns:[]};var d=a("/Xao")(r,c,!1,function(e){a("OHGw")},null,null);t.default=d.exports}});