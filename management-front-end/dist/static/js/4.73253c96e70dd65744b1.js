webpackJsonp([4],{"8V6Q":function(e,t,a){(e.exports=a("BkJT")(!1)).push([e.i,"\n.currency-management-container .image {\n  display: inline-block;\n  width: 20px;\n}\n.currency-management-container .detail-item {\n  width: 95%;\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-orient: horizontal;\n  -webkit-box-direction: normal;\n      -ms-flex-direction: row;\n          flex-direction: row;\n  -webkit-box-pack: start;\n      -ms-flex-pack: start;\n          justify-content: flex-start;\n  -webkit-box-align: center;\n      -ms-flex-align: center;\n          align-items: center;\n  margin: 5px 0;\n}\n.currency-management-container .detail-item .detail-item-title {\n    width: 30%;\n    font-weight: 600;\n    color: #409EFF;\n}\n.currency-management-container .detail-item .info {\n    -webkit-box-flex: 1;\n        -ms-flex: 1;\n            flex: 1;\n    display: -webkit-box;\n    display: -ms-flexbox;\n    display: flex;\n    -webkit-box-orient: horizontal;\n    -webkit-box-direction: normal;\n        -ms-flex-direction: row;\n            flex-direction: row;\n    -webkit-box-pack: start;\n        -ms-flex-pack: start;\n            justify-content: flex-start;\n    -webkit-box-align: center;\n        -ms-flex-align: center;\n            align-items: center;\n    border: 1px solid #ddd;\n    padding: 2px 10px;\n    border-radius: 5px;\n}\n",""])},oMtn:function(e,t,a){var i=a("8V6Q");"string"==typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);a("8bSs")("7d411d62",i,!0)},xHT0:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=a("3cXf"),n=a.n(i),l=a("aA9S"),o=a.n(l),s=a("P9l9"),r={name:"currency-management",data:function(){return{list:[],total:0,tableKey:0,listLoading:!1,updateDialogVisible:!1,detailDialogVisible:!1,deleteDialogVisible:!1,dialogType:"",isShow:{currency:!1,marketValue:!1,description:!1,updateTime:!1,total:!1,maxCurrency:!1,turnover:!1},listQuery:{page:1,limit:10,title:"",type:void 0,queryType:"",sort:"+id"},temp:{},updateTemp:{},updateForm:{},deleteTemp:{},dialogTitle:{showUpdate:"修改",createUpdate:"创建"},formLabelWidth:"120px"}},methods:{handleSizeChange:function(e){this.listQuery.limit=e,this.getCoinList(this.listQuery.page,this.listQuery.limit)},handleCurrentChange:function(e){this.listQuery.page=e,this.getCoinList(this.listQuery.page,this.listQuery.limit)},handleComments:function(e){var t=this;this.$store.dispatch("SetBindQuery",e).then(function(){t.$router.push({name:"BindInfo"})}).catch(function(){console.log(222)})},showDetail:function(e){this.dialogType="showDetail",this.getCoinDetail(e.coinId)},handleUpdate:function(e){this.dialogType="showUpdate",this.getCoinDetail(e.coinId)},handleCreate:function(){this.updateForm={name:"",icon:"",description:"",rank:0,webpage:"",marketValue:"",currency:"",total:"",maxCurrency:"",turnover:""},this.dialogType="createUpdate",this.updateDialogVisible=!0},handleDelete:function(e){this.deleteTemp=e,this.deleteDialogVisible=!0},handleDeleteCommit:function(e){this.deletePlatformRequest(e)},handleCommit:function(e){"showUpdate"===this.dialogType?this.updateRequest(e):"createUpdate"===this.dialogType&&this.createPlatformRequest(e)},getCoinList:function(e,t){var a=this;Object(s.e)(e,t).then(function(e){console.log(e),0===e.data.code?(a.list=e.data.data.list,a.total=e.data.data.total):a.$message.error(e.data.msg)}).catch(function(e){console.log(e.response)})},getCoinDetail:function(e){var t=this;this.listLoading=!0,Object(s.d)(e).then(function(e){console.log(e),0===e.data.code?("showDetail"===t.dialogType?(t.temp=e.data.data,t.detailDialogVisible=!0):"showUpdate"===t.dialogType&&(t.updateTemp=e.data.data,t.updateForm=o()({},t.updateTemp),t.updateDialogVisible=!0),t.listLoading=!1):t.$message.error(e.data.msg)}).catch(function(e){console.log(e.response),t.listLoading=!1})},updateRequest:function(e){var t=this,a={name:"",icon:"",description:"",rank:0,webpage:"",marketValue:"",currency:"",total:"",maxCurrency:"",turnover:""};a.name=e.name,a.icon=e.icon,a.description=e.description,a.rank=e.rank,a.webpage=e.webpage,a.marketValue=e.marketValue,a.currency=e.currency,a.total=e.total,a.maxCurrency=e.maxCurrency,a.turnover=e.turnover,Object(s.C)(e.coinId,n()(a)).then(function(e){console.log(e),0===e.data.code?(t.getCoinList(t.listQuery.page,t.listQuery.limit),t.$message({message:"修改成功",type:"success"})):t.$message.error(e.data.msg),t.updateDialogVisible=!1}).catch(function(e){console.log(e.response),t.updateDialogVisible=!1})},createPlatformRequest:function(e){var t=this,a={name:"",icon:"",description:"",rank:0,webpage:"",marketValue:"",currency:"",total:"",maxCurrency:"",turnover:""};a.name=e.name,a.icon=e.icon,a.description=e.description,a.rank=e.rank,a.webpage=e.webpage,a.marketValue=e.marketValue,a.currency=e.currency,a.total=e.total,a.maxCurrency=e.maxCurrency,a.turnover=e.turnover,Object(s.h)(n()(a)).then(function(e){console.log(e),0===e.data.code?(t.getCoinList(t.listQuery.page,t.listQuery.limit),t.$message({message:"创建成功",type:"success"})):t.$message.error(e.data.msg),t.updateDialogVisible=!1}).catch(function(e){console.log(e.response),t.updateDialogVisible=!1})},deletePlatformRequest:function(e){var t=this;Object(s.m)(e).then(function(e){0===e.data.code?(t.getCoinList(t.listQuery.page,t.listQuery.limit),t.$message({message:"删除成功",type:"success"})):t.$message.error(e.data.msg),t.deleteDialogVisible=!1}).catch(function(e){console.log(e.response),t.deleteDialogVisible=!1})}},created:function(){this.getCoinList(1,10)}},c={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"currency-management-container"},[a("div",{staticClass:"filter-container"},[a("el-checkbox",{staticClass:"filter-item",staticStyle:{"margin-left":"15px","margin-bottom":"15px"},on:{change:function(t){e.tableKey=e.tableKey+1}},model:{value:e.isShow.description,callback:function(t){e.$set(e.isShow,"description",t)},expression:"isShow.description"}},[e._v("描述")]),e._v(" "),a("el-checkbox",{staticClass:"filter-item",staticStyle:{"margin-left":"15px","margin-bottom":"15px"},on:{change:function(t){e.tableKey=e.tableKey+1}},model:{value:e.isShow.marketValue,callback:function(t){e.$set(e.isShow,"marketValue",t)},expression:"isShow.marketValue"}},[e._v("市值")]),e._v(" "),a("el-checkbox",{staticClass:"filter-item",staticStyle:{"margin-left":"15px","margin-bottom":"15px"},on:{change:function(t){e.tableKey=e.tableKey+1}},model:{value:e.isShow.currency,callback:function(t){e.$set(e.isShow,"currency",t)},expression:"isShow.currency"}},[e._v("流通量")]),e._v(" "),a("el-checkbox",{staticClass:"filter-item",staticStyle:{"margin-left":"15px","margin-bottom":"15px"},on:{change:function(t){e.tableKey=e.tableKey+1}},model:{value:e.isShow.total,callback:function(t){e.$set(e.isShow,"total",t)},expression:"isShow.total"}},[e._v("总量")]),e._v(" "),a("el-checkbox",{staticClass:"filter-item",staticStyle:{"margin-left":"15px","margin-bottom":"15px"},on:{change:function(t){e.tableKey=e.tableKey+1}},model:{value:e.isShow.maxCurrency,callback:function(t){e.$set(e.isShow,"maxCurrency",t)},expression:"isShow.maxCurrency"}},[e._v("最大量")]),e._v(" "),a("el-checkbox",{staticClass:"filter-item",staticStyle:{"margin-left":"15px","margin-bottom":"15px"},on:{change:function(t){e.tableKey=e.tableKey+1}},model:{value:e.isShow.turnover,callback:function(t){e.$set(e.isShow,"turnover",t)},expression:"isShow.turnover"}},[e._v("ICO成本")]),e._v(" "),a("el-checkbox",{staticClass:"filter-item",staticStyle:{"margin-left":"15px","margin-bottom":"15px"},on:{change:function(t){e.tableKey=e.tableKey+1}},model:{value:e.isShow.updateTime,callback:function(t){e.$set(e.isShow,"updateTime",t)},expression:"isShow.updateTime"}},[e._v("更新时间")]),e._v(" "),a("el-button",{staticClass:"filter-item",staticStyle:{"margin-left":"10px"},attrs:{type:"primary",icon:"el-icon-edit"},on:{click:e.handleCreate}},[e._v("创建货币")])],1),e._v(" "),a("el-table",{directives:[{name:"loading",rawName:"v-loading.body",value:e.listLoading,expression:"listLoading",modifiers:{body:!0}}],key:e.tableKey,attrs:{data:e.list,"element-loading-text":"Loading",border:"",fit:"","highlight-current-row":""}},[a("el-table-column",{attrs:{align:"center",label:"排名",width:"50"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n        "+e._s(t.row.rank)+"\n      ")]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"名称",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n        "+e._s(t.row.name)+"\n      ")]}}])}),e._v(" "),a("el-table-column",{attrs:{align:"center",label:"图标",width:"50"},scopedSlots:e._u([{key:"default",fn:function(e){return[a("img",{staticClass:"image",attrs:{src:e.row.icon}})]}}])}),e._v(" "),e.isShow.description?a("el-table-column",{attrs:{align:"center",label:"描述"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n        "+e._s(t.row.description)+"\n      ")]}}])}):e._e(),e._v(" "),a("el-table-column",{attrs:{align:"center",label:"官网"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("a",{attrs:{href:t.row.webpage}},[e._v(e._s(t.row.webpage))])]}}])}),e._v(" "),e.isShow.marketValue?a("el-table-column",{attrs:{align:"center",label:"市值"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n        "+e._s(t.row.marketValue)+"\n      ")]}}])}):e._e(),e._v(" "),e.isShow.currency?a("el-table-column",{attrs:{align:"center",label:"流通量"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n        "+e._s(t.row.currency)+"\n      ")]}}])}):e._e(),e._v(" "),e.isShow.total?a("el-table-column",{attrs:{align:"center",label:"总量"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n        "+e._s(t.row.total)+"\n      ")]}}])}):e._e(),e._v(" "),e.isShow.maxCurrency?a("el-table-column",{attrs:{align:"center",label:"最大量"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n        "+e._s(t.row.maxCurrency)+"\n      ")]}}])}):e._e(),e._v(" "),e.isShow.turnover?a("el-table-column",{attrs:{align:"center",label:"ICO成本"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n        "+e._s(t.row.turnover)+"\n      ")]}}])}):e._e(),e._v(" "),e.isShow.updateTime?a("el-table-column",{attrs:{align:"center",prop:"created_at",label:"更新时间",width:"200"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("i",{staticClass:"el-icon-time"}),e._v(" "),a("span",[e._v(e._s(new Date(1e3*parseInt(t.row.updateTime)).toLocaleString()))])]}}])}):e._e(),e._v(" "),a("el-table-column",{attrs:{align:"center",label:"操作","class-name":"small-padding fixed-width",width:"330"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{type:"primary",size:"mini",plain:""},on:{click:function(a){e.showDetail(t.row)}}},[e._v("详情")]),e._v(" "),a("el-button",{attrs:{type:"warning",size:"mini",plain:""},on:{click:function(a){e.handleUpdate(t.row)}}},[e._v("修改")]),e._v(" "),a("el-button",{attrs:{size:"mini",type:"danger",plain:""},on:{click:function(a){e.handleDelete(t.row)}}},[e._v("删除")]),e._v(" "),a("el-button",{attrs:{size:"mini",type:"info",plain:""},on:{click:function(a){e.handleComments(t.row)}}},[e._v("相关资讯")])]}}])})],1),e._v(" "),a("div",{staticClass:"pagination-container"},[a("el-pagination",{attrs:{background:"","current-page":e.listQuery.page,"page-sizes":[10,20,30,50],"page-size":e.listQuery.limit,layout:"total, sizes, prev, pager, next, jumper",total:e.total},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1),e._v(" "),a("el-dialog",{attrs:{title:"详情",visible:e.detailDialogVisible,width:"50%"},on:{"update:visible":function(t){e.detailDialogVisible=t}}},[a("div",{staticClass:"detail-item"},[a("span",{staticClass:"detail-item-title"},[e._v("排名: ")]),a("span",{staticClass:"info"},[e._v(e._s(e.temp.rank))])]),e._v(" "),a("div",{staticClass:"detail-item"},[a("span",{staticClass:"detail-item-title"},[e._v("货币名称: ")]),a("span",{staticClass:"info"},[e._v(e._s(e.temp.name)),a("img",{staticStyle:{width:"20px"},attrs:{src:e.temp.icon}})])]),e._v(" "),a("div",{staticClass:"detail-item"},[a("span",{staticClass:"detail-item-title"},[e._v("描述: ")]),a("span",{staticClass:"info"},[e._v(e._s(e.temp.description))])]),e._v(" "),a("div",{staticClass:"detail-item"},[a("span",{staticClass:"detail-item-title"},[e._v("官网: ")]),a("a",{attrs:{herf:e.temp.webpage}},[e._v(e._s(e.temp.webpage))])]),e._v(" "),a("div",{staticClass:"detail-item"},[a("span",{staticClass:"detail-item-title"},[e._v("市值: ")]),a("span",{staticClass:"info"},[e._v(e._s(e.temp.marketValue))])]),e._v(" "),a("div",{staticClass:"detail-item"},[a("span",{staticClass:"detail-item-title"},[e._v("流通量: ")]),a("span",{staticClass:"info"},[e._v(e._s(e.temp.currency))])]),e._v(" "),a("div",{staticClass:"detail-item"},[a("span",{staticClass:"detail-item-title"},[e._v("总量: ")]),a("span",{staticClass:"info"},[e._v(e._s(e.temp.total))])]),e._v(" "),a("div",{staticClass:"detail-item"},[a("span",{staticClass:"detail-item-title"},[e._v("最大量: ")]),a("span",{staticClass:"info"},[e._v(e._s(e.temp.maxCurrency))])]),e._v(" "),a("div",{staticClass:"detail-item"},[a("span",{staticClass:"detail-item-title"},[e._v("ICO成本: ")]),a("span",{staticClass:"info"},[e._v(e._s(e.temp.turnover))])]),e._v(" "),a("div",{staticClass:"detail-item"},[a("span",{staticClass:"detail-item-title"},[e._v("更新时间: ")]),a("span",{staticClass:"info"},[e._v(e._s(new Date(1e3*parseInt(e.temp.updateTime)).toLocaleString()))])]),e._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:function(t){e.detailDialogVisible=!1}}},[e._v("关闭")])],1)]),e._v(" "),a("el-dialog",{attrs:{title:e.dialogTitle[e.dialogType]+"货币",visible:e.updateDialogVisible},on:{"update:visible":function(t){e.updateDialogVisible=t}}},[a("el-form",{attrs:{model:e.updateForm}},[a("el-form-item",{attrs:{label:"排名","label-width":e.formLabelWidth}},[a("el-input",{attrs:{"auto-complete":"on"},model:{value:e.updateForm.rank,callback:function(t){e.$set(e.updateForm,"rank",t)},expression:"updateForm.rank"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"货币名称","label-width":e.formLabelWidth}},[a("el-input",{attrs:{"auto-complete":"on"},model:{value:e.updateForm.name,callback:function(t){e.$set(e.updateForm,"name",t)},expression:"updateForm.name"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"图标","label-width":e.formLabelWidth}},[a("el-input",{attrs:{"auto-complete":"on"},model:{value:e.updateForm.icon,callback:function(t){e.$set(e.updateForm,"icon",t)},expression:"updateForm.icon"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"描述","label-width":e.formLabelWidth}},[a("el-input",{attrs:{"auto-complete":"on"},model:{value:e.updateForm.description,callback:function(t){e.$set(e.updateForm,"description",t)},expression:"updateForm.description"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"官网","label-width":e.formLabelWidth}},[a("el-input",{attrs:{"auto-complete":"on"},model:{value:e.updateForm.webpage,callback:function(t){e.$set(e.updateForm,"webpage",t)},expression:"updateForm.webpage"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"市值","label-width":e.formLabelWidth}},[a("el-input",{attrs:{"auto-complete":"on"},model:{value:e.updateForm.marketValue,callback:function(t){e.$set(e.updateForm,"marketValue",t)},expression:"updateForm.marketValue"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"流通量","label-width":e.formLabelWidth}},[a("el-input",{attrs:{"auto-complete":"on"},model:{value:e.updateForm.currency,callback:function(t){e.$set(e.updateForm,"currency",t)},expression:"updateForm.currency"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"总量","label-width":e.formLabelWidth}},[a("el-input",{attrs:{"auto-complete":"on"},model:{value:e.updateForm.total,callback:function(t){e.$set(e.updateForm,"total",t)},expression:"updateForm.total"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"最大量","label-width":e.formLabelWidth}},[a("el-input",{attrs:{"auto-complete":"on"},model:{value:e.updateForm.maxCurrency,callback:function(t){e.$set(e.updateForm,"maxCurrency",t)},expression:"updateForm.maxCurrency"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"ICO成本","label-width":e.formLabelWidth}},[a("el-input",{attrs:{"auto-complete":"on"},model:{value:e.updateForm.turnover,callback:function(t){e.$set(e.updateForm,"turnover",t)},expression:"updateForm.turnover"}})],1)],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.updateDialogVisible=!1}}},[e._v("取 消")]),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:function(t){e.handleCommit(e.updateForm)}}},[e._v(e._s(e.dialogTitle[e.dialogType]))])],1)],1),e._v(" "),a("el-dialog",{attrs:{title:"提示",visible:e.deleteDialogVisible,width:"30%"},on:{"update:visible":function(t){e.deleteDialogVisible=t}}},[a("span",[e._v("确定删除货币: ")]),a("span",{staticStyle:{color:"#409EFF"}},[e._v(e._s(e.deleteTemp.name))]),a("span",[e._v(" ?")]),e._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.deleteDialogVisible=!1}}},[e._v("取 消")]),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:function(t){e.handleDeleteCommit(e.deleteTemp.coinId)}}},[e._v("确 定")])],1)])],1)},staticRenderFns:[]};var u=a("/Xao")(r,c,!1,function(e){a("oMtn")},null,null);t.default=u.exports}});